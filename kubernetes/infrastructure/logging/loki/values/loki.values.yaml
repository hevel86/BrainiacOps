loki:
  auth_enabled: false

  commonConfig:
    replication_factor: 1

  storage:
    type: filesystem

  schemaConfig:
    configs:
      - from: 2020-10-24
        store: boltdb-shipper
        object_store: filesystem
        schema: v13
        index:
          prefix: index_
          period: 24h

  compactor:
    working_directory: /var/loki/compactor
    compaction_interval: 10m

# Chart-level persistence (backed by dynamic NFS via truenas-nfs)
persistence:
  enabled: true
  size: 100Gi
  storageClassName: truenas-nfs
  accessModes:
    - ReadWriteMany

service:
  type: ClusterIP

resources:
  requests:
    cpu: 200m
    memory: 512Mi

limits_config:
  ingestion_rate_mb: 8
  ingestion_burst_size_mb: 16
  max_global_streams_per_user: 10000

ruler:
  enabled: false
