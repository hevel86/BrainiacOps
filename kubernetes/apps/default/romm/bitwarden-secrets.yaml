# kubernetes/infrastructure/tailscale/secret.yaml
apiVersion: k8s.bitwarden.com/v1
kind: BitwardenSecret
metadata:
  # Use a descriptive name for the BitwardenSecret object
  name: romm-secrets
  namespace: default
spec:
  # This is the corrected name for the Kubernetes secret
  secretName: romm-secrets
  
  # Your Bitwarden organization ID
  organizationId: "9f7b77c1-18f7-4dc8-b252-b274015d6c40"

  # Reference to the auth token secret you created
  authToken:
    secretName: bw-auth-token
    secretKey: token

  # Map the Bitwarden secret to the key in the K8s secret
  map:
    - bwSecretId: "91696ca2-aa98-4bcc-a880-b34f00d8c2d2"
      secretKeyName: IGDB_CLIENT_ID
    - bwSecretId: "bea3c543-10c6-4ed7-b62e-b34f00d8e959"
      secretKeyName: IGDB_CLIENT_SECRET
    - bwSecretId: "c0305815-25f4-42a3-a7ab-b34f00d9053e"
      secretKeyName: STEAMGRIDDB_API_KEY
    - bwSecretId: "d4f19cc0-3d3b-4f53-a67a-b34f00d91c2b"
      secretKeyName: MOBYGAMES_API_KEY
    - bwSecretId: "b48068cd-6e80-4d98-a409-b34f00d93503"
      secretKeyName: ROMM_AUTH_SECRET_KEY
    - bwSecretId: "29b722b8-5bca-4c7f-9ae8-b34f00d953e5"
      secretKeyName: MYSQL_ROOT_PASSWORD