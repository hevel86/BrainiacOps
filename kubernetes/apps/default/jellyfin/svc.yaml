---
# --- Service for Jellyfin ---
# This exposes Jellyfin externally on a stable IP from your MetalLB pool.
apiVersion: v1
kind: Service
metadata:
  name: jellyfin
  namespace: default
spec:
  type: LoadBalancer
  # Assign a specific, static IP from your MetalLB pool.
  loadBalancerIP: 10.0.0.218
  # This preserves the client's source IP and avoids a second hop for network traffic.
  # It's important for services with pods using hostNetwork: true.
  selector:
    app: jellyfin # This matches the label on the Jellyfin pods
  ports:
    - name: http
      protocol: TCP
      port: 8096
      targetPort: 8096
